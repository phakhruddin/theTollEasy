function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="tabViewOne",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var e=this,t={};Alloy.Collections.instance("found"),Alloy.Collections.instance("tollplaza"),Alloy.Models.instance("dummy"),e.__views.__alloyId61=Ti.UI.createWindow({backgroundColor:"black",apiName:"Ti.UI.Window",title:"TollEasy",classes:["container"],id:"__alloyId61"});var i=[];e.__views.__alloyId63=Ti.UI.createTableViewSection({apiName:"Ti.UI.TableViewSection",headerTitle:"Location capture switch",id:"__alloyId63",classes:[]}),i.push(e.__views.__alloyId63),e.__views.row_contupdfg=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_contupdfg",Title:"Continous FG Update",classes:[]}),e.__views.__alloyId63.add(e.__views.row_contupdfg),e.__views.label_contupdfg=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",text:"Detect TollPlaza ON/OFF",apiName:"Ti.UI.Label",id:"label_contupdfg",top:"5",left:"20",classes:[]}),e.__views.row_contupdfg.add(e.__views.label_contupdfg),e.__views.label_contupdfg1=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",font:{fontFamily:"Helvetica",fontSize:"8dp",fontStyle:"normal",fontWeight:"normal"},text:"Turn ON/OFF FOREGROUND continous capture",apiName:"Ti.UI.Label",id:"label_contupdfg1",top:"30",left:"20",classes:[]}),e.__views.row_contupdfg.add(e.__views.label_contupdfg1),e.__views.switch_contupdfg=Ti.UI.createSwitch({value:!1,apiName:"Ti.UI.Switch",id:"switch_contupdfg",right:"20",titleOff:"OFF",titleOn:"ON",classes:[]}),e.__views.row_contupdfg.add(e.__views.switch_contupdfg),e.__views.__alloyId64=Ti.UI.createTableViewSection({apiName:"Ti.UI.TableViewSection",headerTitle:"Time and GEO Coding Display",id:"__alloyId64",classes:[]}),i.push(e.__views.__alloyId64),e.__views.time=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:"188",apiName:"Ti.UI.TableViewRow",id:"time",Title:"time",classes:[]}),e.__views.__alloyId64.add(e.__views.time),e.__views.label_localtime=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontFamily:"Helvetica",fontSize:"60dp",fontStyle:"bold",fontWeight:"normal"},apiName:"Ti.UI.Label",id:"label_localtime",top:"10",classes:[]}),e.__views.time.add(e.__views.label_localtime),e.__views.label_localdate=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontFamily:"Helvetica",fontSize:"20dp",fontStyle:"normal",fontWeight:"light"},apiName:"Ti.UI.Label",id:"label_localdate",top:"80",classes:[]}),e.__views.time.add(e.__views.label_localdate),e.__views.label_lastclosesttoll=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontFamily:"Helvetica",fontSize:"12dp",fontStyle:"normal",fontWeight:"light"},apiName:"Ti.UI.Label",id:"label_lastclosesttoll",top:"110",classes:[]}),e.__views.time.add(e.__views.label_lastclosesttoll),e.__views.label_currentaddr=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontFamily:"Helvetica",fontSize:"12dp",fontStyle:"normal",fontWeight:"light"},apiName:"Ti.UI.Label",id:"label_currentaddr",top:"132",classes:[]}),e.__views.time.add(e.__views.label_currentaddr),e.__views.label_currentHeading=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontFamily:"Helvetica",fontSize:"12dp",fontStyle:"normal",fontWeight:"light"},apiName:"Ti.UI.Label",id:"label_currentHeading",top:"166",classes:[]}),e.__views.time.add(e.__views.label_currentHeading),e.__views.__alloyId65=Ti.UI.createTableViewSection({apiName:"Ti.UI.TableViewSection",headerTitle:"TollPlaza",id:"__alloyId65",classes:[]}),i.push(e.__views.__alloyId65),e.__views.location=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"location",Title:"location",classes:[]}),e.__views.__alloyId65.add(e.__views.location),e.__views.currloc=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"orange",apiName:"Ti.UI.Label",id:"currloc",top:"5",left:"20",textid:"Current Location >",text:"Current Location >",classes:[]}),e.__views.location.add(e.__views.currloc),e.__views.row_tpfound=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_tpfound",Title:"TP Found",classes:[]}),e.__views.__alloyId65.add(e.__views.row_tpfound),e.__views.label_tpfound=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",text:"Toll Plaza Found >",apiName:"Ti.UI.Label",id:"label_tpfound",top:"5",left:"20",classes:[]}),e.__views.row_tpfound.add(e.__views.label_tpfound),e.__views.__alloyId66=Ti.UI.createTableViewSection({apiName:"Ti.UI.TableViewSection",headerTitle:"Utilities",id:"__alloyId66",classes:[]}),i.push(e.__views.__alloyId66),e.__views.row_payment=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_payment",Title:"location",classes:[]}),e.__views.__alloyId66.add(e.__views.row_payment),e.__views.payment=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Payment Status >",apiName:"Ti.UI.Label",id:"payment",top:"5",left:"20",textid:"Payment Status > ",classes:[]}),e.__views.row_payment.add(e.__views.payment),e.__views.row_loaddata=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_loaddata",Title:"Load Data",classes:[]}),e.__views.__alloyId66.add(e.__views.row_loaddata),e.__views.label_loaddata=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Load Data >",apiName:"Ti.UI.Label",id:"label_loaddata",top:"5",left:"20",classes:[]}),e.__views.row_loaddata.add(e.__views.label_loaddata),e.__views.row_loaddataoutput=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_loaddataoutput",Title:"Load Data",classes:[]}),e.__views.__alloyId66.add(e.__views.row_loaddataoutput),e.__views.label_loaddataoutput=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Load Data Output >",apiName:"Ti.UI.Label",id:"label_loaddataoutput",top:"5",left:"20",classes:[]}),e.__views.row_loaddataoutput.add(e.__views.label_loaddataoutput),e.__views.row_settings=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_settings",Title:"Settings",classes:[]}),e.__views.__alloyId66.add(e.__views.row_settings),e.__views.label_settings=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"orange",text:"Settings >",apiName:"Ti.UI.Label",id:"label_settings",top:"5",left:"20",classes:[]}),e.__views.row_settings.add(e.__views.label_settings),e.__views.__alloyId67=Ti.UI.createTableViewSection({apiName:"Ti.UI.TableViewSection",headerTitle:"TollEasy PRO",id:"__alloyId67",classes:[]}),i.push(e.__views.__alloyId67),e.__views.row_mypoi=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_mypoi",Title:"My POI",classes:[]}),e.__views.__alloyId67.add(e.__views.row_mypoi),e.__views.mypoi=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",text:"My Point of Interest >",apiName:"Ti.UI.Label",id:"mypoi",top:"5",left:"20",textid:"My Point of Interest > ",classes:[]}),e.__views.row_mypoi.add(e.__views.mypoi),e.__views.__alloyId68=Alloy.createController("myPOI",{apiName:"Alloy.Require",id:"__alloyId68",classes:[],__parentSymbol:e.__views.row_mypoi}),e.__views.__alloyId68.setParent(e.__views.row_mypoi),e.__views.row_poi=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_poi",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_poi),e.__views.poi=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Point of Interest >",apiName:"Ti.UI.Label",id:"poi",top:"5",left:"20",textid:"Point of Interest > ",classes:[]}),e.__views.row_poi.add(e.__views.poi),e.__views.row_rest=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_rest",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_rest),e.__views.rest=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Rest Area >",apiName:"Ti.UI.Label",id:"rest",top:"5",left:"20",textid:"Rest Area > ",classes:[]}),e.__views.row_rest.add(e.__views.rest),e.__views.row_gas=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_gas",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_gas),e.__views.gas=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Gas Station >",apiName:"Ti.UI.Label",id:"gas",top:"5",left:"20",textid:"Gas Station > ",classes:[]}),e.__views.row_gas.add(e.__views.gas),e.__views.row_emergency=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_emergency",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_emergency),e.__views.emergency=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Emergency Numbers >",apiName:"Ti.UI.Label",id:"emergency",top:"5",left:"20",textid:"Emergency Numbers > ",classes:[]}),e.__views.row_emergency.add(e.__views.emergency),e.__views.row_food=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_food",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_food),e.__views.food=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Food & Drinks >",apiName:"Ti.UI.Label",id:"food",top:"5",left:"20",textid:"Food & Drinks > ",classes:[]}),e.__views.row_food.add(e.__views.food),e.__views.row_plaza=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_plaza",Title:"location",classes:[]}),e.__views.__alloyId67.add(e.__views.row_plaza),e.__views.plaza=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",text:"Toll Plaza View (Sample) >",apiName:"Ti.UI.Label",id:"plaza",top:"5",left:"20",classes:[]}),e.__views.row_plaza.add(e.__views.plaza),e.__views.row_contupd=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_contupd",Title:"Continous Update",classes:[]}),e.__views.__alloyId67.add(e.__views.row_contupd),e.__views.label_contupd=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",text:"Detect TollPlaza (BG) ON/OFF",apiName:"Ti.UI.Label",id:"label_contupd",top:"5",left:"20",classes:[]}),e.__views.row_contupd.add(e.__views.label_contupd),e.__views.label_contupd1=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",font:{fontFamily:"Helvetica",fontSize:"8dp",fontStyle:"normal",fontWeight:"normal"},text:"Turn ON/OFF background continous capture",apiName:"Ti.UI.Label",id:"label_contupd1",top:"30",left:"20",classes:[]}),e.__views.row_contupd.add(e.__views.label_contupd1),e.__views.switch_contupd=Ti.UI.createSwitch({value:!1,apiName:"Ti.UI.Switch",id:"switch_contupd",right:"20",titleOff:"OFF",titleOn:"ON",classes:[]}),e.__views.row_contupd.add(e.__views.switch_contupd),e.__views.row_empty=Ti.UI.createTableViewRow({width:Ti.UI.SIZE,height:Ti.UI.SIZE,apiName:"Ti.UI.TableViewRow",id:"row_empty",classes:[]}),e.__views.__alloyId67.add(e.__views.row_empty),e.__views.table=Ti.UI.createTableView({data:i,apiName:"Ti.UI.TableView",id:"table",backgroundColor:"black",classes:[]}),e.__views.__alloyId61.add(e.__views.table),e.__views.tab_one=Ti.UI.createTab({font:{fontSize:"50dp",fontWeight:"bold",textStyle:Ti.UI.TEXT_STYLE_HEADLINE},width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"white",window:e.__views.__alloyId61,apiName:"Ti.UI.Tab",id:"tab_one",title:"List View",classes:[]}),e.__views.tab_one&&e.addTopLevelView(e.__views.tab_one);var a=function(){e.label_localtime.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().localtime:Alloy.Models.dummy.get("localtime"),e.label_localtime.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().localtime:Alloy.Models.dummy.get("localtime"),e.label_localdate.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().localdate:Alloy.Models.dummy.get("localdate"),e.label_localdate.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().localdate:Alloy.Models.dummy.get("localdate"),e.label_lastclosesttoll.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().lastclosesttoll:Alloy.Models.dummy.get("lastclosesttoll"),e.label_lastclosesttoll.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().lastclosesttoll:Alloy.Models.dummy.get("lastclosesttoll"),e.label_currentaddr.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().currentaddr:Alloy.Models.dummy.get("currentaddr"),e.label_currentaddr.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().currentaddr:Alloy.Models.dummy.get("currentaddr"),e.label_currentHeading.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().currentHeading:Alloy.Models.dummy.get("currentHeading"),e.label_currentHeading.text=_.isFunction(Alloy.Models.dummy.transform)?Alloy.Models.dummy.transform().currentHeading:Alloy.Models.dummy.get("currentHeading")};Alloy.Models.dummy.on("fetch change destroy",a),t.destroy=function(){Alloy.Models.dummy.off("fetch change destroy",a)},_.extend(e,e.__views),e.location.addEventListener("click",function(t){console.debug("row index = "+JSON.stringify(t.index)),Ti.API.info("row rowData = "+JSON.stringify(t.index)),Ti.API.info("row rowData = "+JSON.stringify(t.rowData)),console.debug("in open_button click event handler");var i=Alloy.createController("tabViewOneChild");i.openMainWindow(e.tab_one)}),e.row_plaza.addEventListener("click",function(t){console.debug("row index = "+JSON.stringify(t.index)),Ti.API.info("row rowData = "+JSON.stringify(t.index)),Ti.API.info("row rowData = "+JSON.stringify(t.rowData)),console.debug("in open_button click event handler");var i=Alloy.createController("tollPlazaView");i.openMainWindow(e.tab_one)}),e.row_loaddata.addEventListener("click",function(){var t=Alloy.createController("TV1loadData");t.openMainWindow(e.tab_one)}),e.row_loaddataoutput.addEventListener("click",function(){var t=Alloy.createController("TV1loadDataOutput");t.openMainWindow(e.tab_one)}),e.row_settings.addEventListener("click",function(){var t=Alloy.createController("settings");t.openMainWindow(e.tab_one)}),e.row_tpfound.addEventListener("click",function(){var t=Alloy.createController("TV1TPFoundTable");t.openMainWindow(e.tab_one)});var o=Alloy.Models.dummy;console.log("stringify dummy :"+JSON.stringify(o)),o.set("id","1234"),o.fetch();var l=setInterval(function(){var e=new Date;if(currentaddr=Titanium.App.Properties.getString("currentaddr")?Titanium.App.Properties.getString("currentaddr"):"no address detected",lastclosesttoll=Titanium.App.Properties.getString("outputclosesttollbydist0")?Titanium.App.Properties.getString("outputclosesttollbydist0"):"no closest toll found",Titanium.App.Properties.getString("currentHeading"))var t=Titanium.App.Properties.getString("currentHeading"),t=parseFloat(t).toFixed(2),t="Current heading is "+t+" degrees from North";else var t="";o.set("localtime",e.getHours()+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)),o.set("localdate",e.toString().slice(0,16)),o.set("currentaddr",currentaddr),o.set("lastclosesttoll","TollPlaza "+lastclosesttoll.replace("distance : ","is ")+" ft away"),o.set("currentHeading",t),o.set("gmttime",new Date)},1e3);l=1,e.switch_contupd.addEventListener("change",function(){var t=e.switch_contupd.value;if(Ti.API.info("switch value :"+t),1==t){alert("Detect TollPlaza is ON"),Ti.API.info("Registering background services");var i=Ti.App.iOS.registerBackgroundService({url:"bg-service1.js"});console.log("service after start is: "+JSON.stringify(i)),Ti.API.info("*** Press home button to pause application ***")}else{var i=Ti.App.iOS.registerBackgroundService({url:"bg-service1.js"});console.log("stopping service :"+JSON.stringify(i)),i.stop(),i.unregister(),alert("Detect TollPlaza is OFF")}}),e.switch_contupdfg.addEventListener("change",function(){var t=e.switch_contupdfg.value;Ti.API.info("switch value :"+t),1==t?(Alloy.Globals.eventDetectTollPlaza("newberlin","add"),alert("Detect TollPlaza is ON")):(Alloy.Globals.eventDetectTollPlaza("newberlin","remove"),alert("Detect TollPlaza is OFF"))}),e.label_contupd.addEventListener("click",function(){var t=Alloy.createController("geobg");t.openMainWindow(e.tab_one)}),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;